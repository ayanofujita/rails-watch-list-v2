<div class="d-flex justify-content-between align-items-center">
  <h1>Edit List Details</h1>
  <%= link_to "Delete Watchlist",
                  list_path(@list),
                  data: { turbo_method: :delete, turbo_confirm: "Are you sure you want to delete this list?" },
                  class: "border opacity-75 rounded-3 text-white p-2 bg-danger",
                  style: "height: fit-content;" %>
</div>

<%= form_with(model: @list, class: "my-4") do |f| %>
  <div class="mb-3">
    <%= f.label :name, class: "form-label text-white" %>
    <%= f.text_field :name, class: "form-control", required: true %>
  </div>

  <div class="mb-3">
    <%= f.label :description, class: "form-label text-white" %>
    <%= f.text_area :description, class: "form-control", rows: 3 %>
  </div>

  <div class="d-flex justify-content-between align-items-center">
    <%= f.submit "Update Watchlist", class: "border opacity-75 rounded-3 text-white p-2" %>
  </div>
<% end %>

<div class="mt-4">
  <h2>Edit Movies in List</h2>
  <div class="d-flex flex-wrap justify-content-around">
    <% @list.movies.each do |movie| %>
      <div class="position-relative movie-card m-2">
        <img src="<%= movie.poster_url %>" alt="<%= movie.title %>'s poster" class="movie-poster">
        <%= link_to list_movie_path(@list, movie),
            data: { turbo_method: :delete, turbo_confirm: "Remove from watchlist?" },
            class: "position-absolute top-0 end-0 px-2 py-1 me-2 text-white remove-movie-btn" do %>
          <i class="fa-solid fa-xmark"></i>
        <% end %>
      </div>
    <% end %>
  </div>
</div>
